<i18n>
{

"de": {

"page-title": "Identifikation",

"identification-heading": "Schritt 1: Identifikation",
"identification-text": "Selektieren Sie in dieser WhatsApp Nachricht, falls vorhanden, jeweils einen geschlechtsspezifischen Hass-Ausdruck und fügen ihn zur Liste hinzu.",
"identification-help": "Hilfe anzeigen",

"wrong-language": "Text ist nicht deutsch",
"wrong-language-bubble": "Unter Deutsch verstehen wir auch Nachrichten mit vielen Schreib- und Tippfehlern sowie Schweizerdeutsche Nachrichten. Tipp: Falls die Nachricht unverständlich erscheint, versuchen Sie, sie laut zu lesen.",

"button-add": "Hinzufügen",

"classification-heading": "Schritt 2: Klassifikation",
"classification-text": "Bitte klassifizieren Sie die ausgewählten Hass-Ausdrücke:",
"classification-none": "Noch keine Ausdrücke hinzugefügt.",

"placeholder-select": "Bitte wählen ...",

"label-origin": "Wortherkunft",
"origin-option-1": "Anatomie",
"origin-option-2": "Geschlechtszugehörigkeit",
"origin-option-3": "Sexuelle Ausrichtung",
"origin-option-4": "Andere",
"origin-bubble": "Mögliche Kategorien sind Körperteile (z.B. <i>Schwanz</i>), Tätigkeiten (z.B. <i>Hure</i> oder <i>Wichser</i>) oder Geschlechtszugehörigkeit (z.B. <i>Weib</i>) oder die sexuelle Ausrichtung, (z.B. <i>Homo</i>).",

"label-sex": "Geschlecht",
"label-sex-brackets": "Adressat/in",
"sex-option-1": "Mann",
"sex-option-2": "Frau",
"sex-option-3": "Divers",
"sex-option-4": "Unbekannt",
"sex-bubble": "Geschlecht der Person, die mit dem Hass-Ausdruck bezeichnet wird. Bitte auswählen: Mann, Frau, Divers (Menschen, die sich den Geschlechtern Mann und Frau nicht zuordnen möchten), Unklar (das Geschlecht geht aus dem Text nicht klar hervor)",

"label-sex-orientation": "Sex. Ausrichtung",
"label-sex-orientation-brackets": "Adressat/in",
"sex-orientation-option-1": "Hetereosexuell",
"sex-orientation-option-2": "Homosexuell",
"sex-orientation-option-3": "Bisexuell",
"sex-orientation-option-4": "Unklar",
"sex-orientation-bubble": "Sexuelle Ausrichtung des/r Adressanten/in. Möglich sind hetero- homo-, bi- und asexuell. Die Option «Unklar» wird dann angewendet, wenn das Geschlecht aus dem Text in der Nachricht nicht klar hervorgeht.",

"button-answer": "Antworten",
"button-nohatespeech": "Keine Hassausdrücke",
"button-skip": "Überspringen",

"progress-label": "Fortschritt",
"progress-of": "von",


"wizard-step-1-heading": "Was sind geschlechtsspezifische Hass-Ausdrücke?",
"wizard-step-1-text": "Geschlechtsspezifische Hass-Ausdrücke sind Ausdrücke, die",
"wizard-step-1-bullet-1": "sich auf Menschen beziehen.",
"wizard-step-1-bullet-2": "von Ihnen ohne den Zusammenhang zu beachten als negativ / beleidigend / verletzend / diskriminierend klassifiziert werden.",
"wizard-step-1-bullet-3": "einen Bezug zum Geschlecht oder der sexuellen Orientierung des Menschen haben.",
"wizard-step-1-examples-heading": "Beispiele:",
"wizard-step-1-examples-specific": "Geschlechtsspezifisch:",
"wizard-step-1-examples-specific-list": "<li><b><i>Schwanz: </i></b>Kann nur für einen Mann verwendet werden.</li><li><b><i>Weib: </i></b>Kann nur für Frauen verwendet werden.</li><li><b><i>Homo: </i></b>Hat einen direkten Bezug zur sexuellen Orientierung.</li>",
"wizard-step-1-examples-nonsp": "<b>Nicht</b> geschlechtsspezifisch:",
"wizard-step-1-examples-nonsp-list": "<li><b><i>Arschloch: </i></b>Ist bei allen Geschlechtern gleich.</li><li><b><i>Idiot, Trottel, Sauhund: </i></b>Hat keinen Bezug zum Geschlecht oder der sexuellen Ausrichtung.</li>",

"wizard-step-2-heading": "Selektion von Ausdrücken",
"wizard-step-2-text-1": "Wählen Sie mit Ihrer Maus Text-Teile aus, die als geschlechtsspezifische Hass-Ausdrücke erkennbar sind.",
"wizard-step-2-bullet-1": "<b>Es spielt keine Rolle, ob die Ausdrücke abwertend oder nicht abwertend gemeint sind.</b>",
"wizard-step-2-bullet-2": "<b>Es gibt viele Mitteilungen, in denen KEINE Hassausdrücke vorkommen. Setzen Sie dann bitte ein Häkchen bei <i>keine Hassausdrücke gefunden</i></b>",
"wizard-step-2-text-2": "<b>Ausdrücke bestehen häufig aus mehr als einem Wort</b>, also z.B. einem Artikelwort (<i>der</i>, <i>die</i>, <i>das</i>, <i>ein</i>, <i>eine</i>, <i>dieser</i>, <i>diese</i>, etc.), einem Nomen (<i>Mann</i>, <i>Frau</i>, <i>Typ</i>, <i>Kerl</i>, <i>Homo</i>, <i>Lesbe</i>, <i>Ekel</i>, etc.) und weiteren Wörtern dazwischen (<i>huere</i>, <i>netter</i>, <i>blöde</i>, <i>gut ausgebildete</i>).",
"wizard-step-2-text-3": "<b>Ausgewählt werden sollte bitte jeweils der ganze Ausdruck.</b>",
"wizard-step-2-examples-heading": "Beispiele:",
"wizard-step-2-examples-list": "<li><b><i>Der doofe Schwanz</i></b></li><li><b><i>Der gut ausgebildete Homo</i></b></li><li><b><i>Lesbe</i></b></li>",

"wizard-step-3-heading": "Kategorisierung",
"wizard-step-3-text": "Weiter bitten wir Sie, die von Ihnen ausgewählten Ausdrücke in Bezug auf <b>drei Kategorien</b> zu beschreiben.",
"wizard-step-3-list-1-title": "<b>Wortherkunft</b>",
"wizard-step-3-list-1": "<li><b>Anatomie </b>(Körperteile, z.B. <i>Schwanz</i>)</li><li><b>Geschlechtszugehörigkeit </b>(z.B. <i>Weib</i>)</li><li><b>Sexuelle Ausrichtung </b>(z.B. <i>Homo</i>)</li><li><b>Andere </b>(wenn keine dieser Optionen passt)</li>",
"wizard-step-3-list-2-title": "<b>Geschlecht </b>(der/des Adressaten/in):",
"wizard-step-3-list-2": "<li><b>Mann</b></li><li><b>Frau</b></li><li><b>Divers </b>(für Menschen, die sich den Geschlechtern Mann und Frau nicht zuordnen)</li><li><b>Unbekannt </b>(nicht erkennbar)</li>",
"wizard-step-3-list-3-title": "<b>Sexuelle Ausrichtung </b>(der/des Adressaten/in):",
"wizard-step-3-list-3": "<li><b>Heterosexuell</b></li><li><b>Homosexuell</b></li><li><b>Bisexuell</b></li><li><b>Asexuell</b></li>"

},

"fr": {

"page-title": "Identification",

"identification-heading": "Etape 1 : Sélection",
"identification-text": "Dans ce message WhatsApp, sélectionnez une expression de haine sexospécifique et ajoutez-la à la liste.",
"identification-help": "Afficher de l’aide",

"wrong-language": "Le texte n’est pas français",
"wrong-language-bubble": "Par français, nous entendons également les messages avec de nombreuses fautes d’orthographe et de frappe ainsi que les abréviations diverses ou contenant des dialectes. Un conseil : en cas de doute, essayez de lire le texte à haute voix.",

"button-add": "Ajouter",

"classification-heading": "Étape 2 : Classification",
"classification-text": "Veuillez classer les expressions de haine sélectionnées :",
"classification-none": "Aucune expression n'a été ajoutée.",

"placeholder-select": "Choisir ...",

"label-origin": "Origine du mot",
"origin-option-1": "Parties du corps",
"origin-option-2": "Sexe",
"origin-option-3": "Orientation sexuelle",
"origin-option-4": "Autres",
"origin-bubble": "Les catégories possibles sont les parties du corps (par exemple <i>la queue</i>), les activités (par exemple <i>la putain</i> ou <i>le branleur</i>) ou le sexe (par exemple <i>la gonzesse</i>) ou l'orientation sexuelle (par exemple <i>la tarlouze</i>).",

"label-sex": "Sexe",
"label-sex-brackets": "du destinataire",
"sex-option-1": "Homme",
"sex-option-2": "Femme",
"sex-option-3": "Divers",
"sex-option-4": "non reconnaissable",
"sex-bubble": "Le sexe de la personne à qui l'expression de haine est destinée. Veuillez sélectionner : homme, femme, divers (pour les personnes dont l’identité de genre ne s’inscrit pas dans la norme binaire), non reconnaissable (le sexe du destinataire ne peut pas être connu grâce au message)",

"label-sex-orientation": "Orientation sexuelle",
"label-sex-orientation-brackets": "du destinataire",
"sex-orientation-option-1": "Hétérosexuel",
"sex-orientation-option-2": "Homosexuel",
"sex-orientation-option-3": "Bisexuel ou asexué",
"sex-orientation-option-4": "Pas clair",
"sex-orientation-bubble": "Orientation sexuelle du destinataire. Vous pouvez sélectionner les catégories hétérosexuel, homosexuel, bisexuel ou asexué. L'option « Pas clair » est utilisée si l’orientation sexuelle du destinataire n’est pas perceptible à travers le message.",

"button-answer": "Répondre",
"button-nohatespeech": "Aucune expression de haine",
"button-skip": "Sauter",

"progress-label": "Progrès",
"progress-of": "sur",


"wizard-step-1-heading": "Les expressions de haine sexospécifique, qu’est ce que c’est ?",
"wizard-step-1-text": "Les expressions de haine sexospécifique désignent les expressions qui :",
"wizard-step-1-bullet-1": "désignent des humains,",
"wizard-step-1-bullet-2": "sont perçues par vous, en tant que Citizen Scientist, comme négatives, insultantes, blessantes ou discriminatoires,",
"wizard-step-1-bullet-3": "ont un rapport au sexe ou à la sexualité.",
"wizard-step-1-examples-heading": "Exemples :",
"wizard-step-1-examples-specific": "Expressions sexospécifiques :",
"wizard-step-1-examples-specific-list": "<li><b><i>gonzesse : </i></b>n’est employé que pour une femme.</li><li><b><i>tapette : </i></b>a un rapport direct à la sexualité (homosexuelle).</li>",
"wizard-step-1-examples-nonsp": "Expressions <b>non</b> sexospécifiques :",
"wizard-step-1-examples-nonsp-list": "<li><b><i>trou du cul : </i></b>n’est pas spécifique au sexe.</li><li><b><i>idiot : </i></b>aucun rapport au sexe ou à l’orientation sexuelle</li>",

"wizard-step-2-heading": "Sélection d’expressions",
"wizard-step-2-text-1": "Sélectionnez des morceaux de texte reconnaissables comme des expressions de haine sexospécifique.",
"wizard-step-2-bullet-1": "<b>Peu importe que les termes soient dérogatoires ou non dérogatoires.</b>",
"wizard-step-2-bullet-2": "",
"wizard-step-2-text-2": "<b>Les expressions se composent souvent de plus d'un mot</b>, par ex. un mot d'article (<i>le</i>, <i>le</i>, <i>le</i>, <i>un</i>, <i>ceci</i>, <i>ceci</i>, etc.), un nom (<i>homme</i>, <i>femme</i>, <i>type</i>, <i>gars</i>, <i>homo</i>, <i>lesbienne</i>, etc.) et d'autres mots entre les deux (<i>agréable</i>, <i>stupide</i>, <i>bien éduqué</i>).",
"wizard-step-2-text-3": "<b>Veuillez sélectionner toute l'expression, dans son intégralité.</b>",
"wizard-step-2-examples-heading": "Exemples :",
"wizard-step-2-examples-list": "<li><b><i>la tarlouze bien éduquée</i></b></li><li><b><i>la belle salope</i></b></li>",

"wizard-step-3-heading": "Catégorisation",
"wizard-step-3-text": "Dans un deuxième temps, nous vous demandons de décrire les expressions que vous avez sélectionnées par rapport à <b>trois catégories</b>.",
"wizard-step-3-list-1-title": "<b>Origine de l’expression :</b>",
"wizard-step-3-list-1": "<li><b>anatomie </b>(parties du corps, par exemple <i>queue</i>)</li><li><b>sexe </b>(par exemple <i>gonzesse</i>)</li><li><b>orientation sexuelle </b>(par exemple <i>tarlouze</i>)</li><li><b>autre </b>(si aucune de ces options ne convient)</li>",
"wizard-step-3-list-2-title": "<b>Sexe </b>(du destinataire) :",
"wizard-step-3-list-2": "<li><b>homme</b></li><li><b>femme</b></li><li><b>autre </b>(pour les personnes dont l’identité de genre ne s’inscrit pas dans la norme binaire)</li><li><b>non reconnaissable </b></li>",
"wizard-step-3-list-3-title": "<b>Orientation sexuelle </b>(du destinataire) :",
"wizard-step-3-list-3": "<li><b>hétérosexuel</b></li><li><b>homosexuel</b></li><li><b>bisexuel</b></li><li><b>asexuel</b></li><li><b>pas clair</b></li>"


},

"it": {

"page-title": "Identificazione",

"identification-heading": "Fase 1: Selezione",
"identification-text": "Selezioni in questo messaggio di WhatsApp un’espressione di odio basata sul genere e la aggiunga alla lista.",
"identification-help": "Mostrare aiuto",

"wrong-language": "Il testo non è in italiano",
"wrong-language-bubble": "Sotto italiano comprendiamo anche messaggi con molti errori grammaticali e di battitura così come messaggi in dialetto. Suggerimento: cerchi, nel dubbio, di leggere il testo ad alta voce.",

"button-add": "Aggiungere",

"classification-heading": "Fase 2: Classificazione",
"classification-text": "Per favore classifichi le espressioni di odio selezionate:",
"classification-none": "Non ancora aggiunta alcuna espressione.",

"placeholder-select": "Scegli ...",

"label-origin": "Origine della parola",
"origin-option-1": "Parti del corpo",
"origin-option-2": "Appartenenza a genere",
"origin-option-3": "Orientamento sessuale",
"origin-option-4": "Altro",
"origin-bubble": "Possibili categorie sono le parti del corpo (p. es. <i>cazzo</i>), le attività (p. es. <i>puttana</i> o <i>segaiolo</i>), l’appartenenza a un genere (p. es. <i>donnetta</i>) oppure l’orientamento sessuale (p. es. <i>frocio</i>)",

"label-sex": "Sesso",
"label-sex-brackets": "del destinatario / della destinataria",
"sex-option-1": "Uomo",
"sex-option-2": "Donna",
"sex-option-3": "Diverso",
"sex-option-4": "Sconosciuto",
"sex-bubble": "Il sesso della persona che è etichettata con l’espressione di odio. Per favore scelga: uomo, donna, diverso (persone che non desiderano associarsi ai sessi uomo e donna), sconosciuto (il sesso non è chiaramente riconoscibile dal testo).",

"label-sex-orientation": "Orientamento sessuale",
"label-sex-orientation-brackets": "del destinatario / della destinataria",
"sex-orientation-option-1": "Eterosessuale",
"sex-orientation-option-2": "Homosessuale",
"sex-orientation-option-3": "Bi- e asessuale",
"sex-orientation-option-4": "non chiaro",
"sex-orientation-bubble": "L’orientamento sessuale del destinatario / della destinataria. Possibili sono etero-, homo-, bi- e asessuale. L’opzione “non chiaro” è usata quando l’orientamento sessuale non è chiaramente riconoscibile dal messaggio.",

"button-answer": "Rispondere",
"button-nohatespeech": "Nessuna espressione di odio",
"button-skip": "Saltare",

"progress-label": "Progresso",
"progress-of": "di",


"wizard-step-1-heading": "Cosa sono le espressioni di odio basate sul genere?",
"wizard-step-1-text": "Le espressioni di odio basate sul genere indicano espressioni che:",
"wizard-step-1-bullet-1": "si riferiscono a persone.",
"wizard-step-1-bullet-2": "sono classificate da Lei in qualità di citizen scientist come negative / ingiuriose / offensive / discriminatorie senza tenere conto del contesto.",
"wizard-step-1-bullet-3": "hanno un riferimento al genere o all’orientamento sessuale della persona.",
"wizard-step-1-examples-heading": "Esempi:",
"wizard-step-1-examples-specific": "Espressioni basate sul genere:",
"wizard-step-1-examples-specific-list": "<li><b><i>Senza palle: </i></b>è usato in riferimento a un uomo.</li><li><b><i>Puttana: </i></b>è usato in riferimento a una donna.</li><li><b><i>Frocio: </i></b>ha un riferimento diretto all’orientamento sessuale.</li>",
"wizard-step-1-examples-nonsp": "Espressioni <b>non</b> basate sul genere:",
"wizard-step-1-examples-nonsp-list": "<li><b><i>Stronzo/a: </i></b>è uguale per tutti i sessi.</li><li><b><i>Idiota, imbecille, carogna: </i></b>non hanno un riferimento al genere o all’orientamento sessuale.</li>",

"wizard-step-2-heading": "Selezione delle espressioni",
"wizard-step-2-text-1": "Scelga delle parti di testo riconoscibili come espressioni di odio basate sul genere.",
"wizard-step-2-bullet-1": "<b>Non cambia se le espressioni sono intese in senso dispregiativo oppure no.</b>",
"wizard-step-2-bullet-2": "",
"wizard-step-2-text-2": "<b>Le espressioni consistono spesso in più di una parola</b>, quindi p. es. in un articolo (<i>il</i>, <i>lo</i>, <i>la</i>, <i>gli</i>, <i>un</i> ecc.), un sostantivo (<i>uomo</i>, <i>donna</i>, <i>tipo</i>, <i>lesbica</i>, <i>schifo</i> ecc.) e ulteriori parole in mezzo (<i>gentile</i>, <i>stupida</i>, <i>sporco</i> ecc.)",
"wizard-step-2-text-3": "<b>Per favore, dovrebbe essere scelta l’intera espressione ogni volta.</b>",
"wizard-step-2-examples-heading": "Esempi:",
"wizard-step-2-examples-list": "<li><b><i>La stupida puttana</i></b></li><li><b><i>Quello sporco frocio</i></b></li><li><b><i>Lesbica</i></b></li>",

"wizard-step-3-heading": "Classificazione",
"wizard-step-3-text": "In una seconda fase La preghiamo di descrivere le espressioni da Lei scelte in relazione a <b>tre categorie</b>.",
"wizard-step-3-list-1-title": "<b>Origine della parola:</b>",
"wizard-step-3-list-1": "<li><b>Anatomia </b>(parti del corpo, p. es. <i>cazzo</i>)</li><li><b>Appartenenza a un genere </b>(p. es. <i>donnetta</i>)</li><li><b>Orientamento sessuale </b>(p. es. <i>frocio</i>)</li><li><b>Altro </b>(se nessuna di queste opzioni corrisponde)</li>",
"wizard-step-3-list-2-title": "<b>Sesso </b>(del destinatario / della destinataria):",
"wizard-step-3-list-2": "<li><b>Uomo</b></li><li><b>Donna</b></li><li><b>Diverso </b>(per persone che non desiderano associarsi ai sessi uomo e donna)</li><li><b>Sconosciuto </b>(non riconoscibile)</li>",
"wizard-step-3-list-3-title": "<b>Orientamento sessuale </b>(del destinatario / della destinataria):",
"wizard-step-3-list-3": "<li><b>Eterosessuale</b></li><li><b>Omosessuale</b></li><li><b>Bisessuale</b></li><li><b>Asessuale</b></li>"


}


}
</i18n>

<template>
  <div class="identification-page">

    <app-content-section class="content-section-condensed identification">
      <div class="content-wrapper">

        <div class="margin-bottom">
          <div class="row row-wrapping">

            <div class="col col-large-6 col-wrapping scroll-effect">

              <h2 class="heading small centered left-aligned-large" id="projects" v-html="$t('identification-heading')"></h2>
              <p>
                {{ $t('identification-text') }}<br>
                <span class="small"><a href="#" @click.prevent="openWizard">{{ $t('identification-help') }}</a></span>
              </p>

              <div>
                <div v-if="taskLoaded" class="speech-bubble reduced-bottom-margin" ref="bubble" v-html="bubbleText" :class="{disabled: wrongLanguage || noHateSpeech }"></div>
                <loader v-else class="reduced-bottom-margin"></loader>

                <div class="row row-wrapping">
                  <div class="col col-wrapping col-large-6">

                    <div class="form-field form-field-block form-field-language-checkbox">
                      <div class="options">
                        <!--
                        <label :class="{disabled: wrongLanguage || !taskLoaded }">
                          <input type="checkbox" v-model="noHateSpeech">
                          <div class="checkbox">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                              <path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"></path>
                            </svg>
                          </div>
                          <span>Keine Hassausdrücke gefunden</span>
                        </label>
                        -->
                        <label :class="{disabled: noHateSpeech || !taskLoaded }">
                            <input type="checkbox" v-model="wrongLanguage">
                            <div class="checkbox">
                              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                <path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"></path>
                              </svg>
                            </div>
                            <span>{{ $t('wrong-language') }}
                              <inline-hover>
                                <svg slot="display-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                  <path d="M504,256c0,137-111,248-248,248S8,393,8,256,119,8,256,8,504,119.08,504,256ZM262.65,90c-54.49,0-89.25,23-116.54,63.76A12,12,0,0,0,148.82,170l34.7,26.31a12,12,0,0,0,16.66-2.13c17.87-22.65,30.12-35.79,57.31-35.79,20.43,0,45.7,13.14,45.7,33,0,15-12.37,22.67-32.54,34C247.13,238.53,216,254.94,216,296v4a12,12,0,0,0,12,12h56a12,12,0,0,0,12-12v-1.33C296,270.2,379.19,269,379.19,192,379.19,134,319,90,262.65,90ZM256,338a46,46,0,1,0,46,46A46.05,46.05,0,0,0,256,338Z"/>
                                </svg>
                                <template slot="hover">
                                  {{ $t('wrong-language-bubble') }}
                                </template>
                              </inline-hover>
                            </span>
                        </label>
                      </div>
                    </div>

                  </div>
                  <div class="col col-wrapping col-large-6">

                    <div class="add-button-group">
                      <div class="button-group right-aligned">
                        <button class="button button-primary" :disabled="!selection" @click="select">{{ $t('button-add') }}</button>
                      </div>
                    </div>

                  </div>
                </div>

              </div>

            </div>

            <div class="col col-large-6 col-wrapping scroll-effect scroll-effect-delayed-1">

              <div :class="{disabled:wrongLanguage || noHateSpeech}">

                <h2 class="heading small centered left-aligned-large" id="projects">{{ $t('classification-heading') }}</h2>
                <p>
                  {{ $t('classification-text') }}
                </p>

                <transition name="no-item-fade">
                  <p class="no-items" v-if="selections.length == 0">
                    {{ $t('classification-none') }}
                  </p>
                </transition>

                <transition-group name="item-fade" tag="div" class="items">
                  <div class="item" v-for="(selection, index) in selections" :key="'selection_'+index">

                    <div class="string">{{ selection.string }}</div>

                    <button class="button button-secondary button-secondary-naked button-icon button-icon-only" @click="selections.splice(index,1); checkComplete()">
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                        <path d="M322.72,256,422.79,155.93a31.46,31.46,0,0,0,0-44.48L400.55,89.21a31.46,31.46,0,0,0-44.48,0L256,189.28,155.93,89.21a31.46,31.46,0,0,0-44.48,0L89.21,111.45a31.46,31.46,0,0,0,0,44.48L189.28,256,89.21,356.07a31.46,31.46,0,0,0,0,44.48l22.24,22.24a31.46,31.46,0,0,0,44.48,0L256,322.72,356.07,422.79a31.46,31.46,0,0,0,44.48,0l22.24-22.24a31.46,31.46,0,0,0,0-44.48Z"/>
                      </svg>
                    </button>

                    <div class="categories">

                      <div class="category">
                        <label>{{ $t('label-origin') }}</label>
                        <div class="form-field">
                          <div class="custom-select">
                            <select v-model="selection.origin" :class="{placeholder:!selection.origin}" @change="checkComplete">
                              <option :value="undefined" disabled selected>{{ $t('placeholder-select') }}</option>
                              <option value="anatomy">{{ $t('origin-option-1') }}</option>
                              <option value="gender">{{ $t('origin-option-2') }}</option>
                              <option value="sexual-orientation">{{ $t('origin-option-3') }}</option>
                              <option value="other">{{ $t('origin-option-4') }}</option>
                            </select>
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                              <path d="M127.3,192h257.3c17.8,0,26.7,21.5,14.1,34.1L270.1,354.8c-7.8,7.8-20.5,7.8-28.3,0L113.2,226.1 C100.6,213.5,109.5,192,127.3,192z"/>
                            </svg>
                          </div>
                        </div>
                        <inline-hover class="overlay-right-aligned">
                          <svg slot="display-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                            <path d="M504,256c0,137-111,248-248,248S8,393,8,256,119,8,256,8,504,119.08,504,256ZM262.65,90c-54.49,0-89.25,23-116.54,63.76A12,12,0,0,0,148.82,170l34.7,26.31a12,12,0,0,0,16.66-2.13c17.87-22.65,30.12-35.79,57.31-35.79,20.43,0,45.7,13.14,45.7,33,0,15-12.37,22.67-32.54,34C247.13,238.53,216,254.94,216,296v4a12,12,0,0,0,12,12h56a12,12,0,0,0,12-12v-1.33C296,270.2,379.19,269,379.19,192,379.19,134,319,90,262.65,90ZM256,338a46,46,0,1,0,46,46A46.05,46.05,0,0,0,256,338Z"/>
                          </svg>
                          <template slot="hover">
                            <div v-html="$t('origin-bubble')"></div>
                          </template>
                        </inline-hover>
                      </div>

                      <div class="category">
                        <label>{{ $t('label-sex') }} <span class="regular">({{ $t('label-sex-brackets') }})</span></label>
                        <div class="form-field">
                          <div class="custom-select">
                            <select v-model="selection.gender" :class="{placeholder:!selection.gender}" @change="checkComplete">
                              <option :value="undefined" disabled selected>{{ $t('placeholder-select') }}</option>
                              <option value="man">{{ $t('sex-option-1') }}</option>
                              <option value="woman">{{ $t('sex-option-2') }}</option>
                              <option value="diverse">{{ $t('sex-option-3') }}</option>
                              <option value="unknown">{{ $t('sex-option-4') }}</option>
                            </select>
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                              <path d="M127.3,192h257.3c17.8,0,26.7,21.5,14.1,34.1L270.1,354.8c-7.8,7.8-20.5,7.8-28.3,0L113.2,226.1 C100.6,213.5,109.5,192,127.3,192z"/>
                            </svg>
                          </div>
                        </div>
                        <inline-hover class="overlay-right-aligned">
                          <svg slot="display-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                            <path d="M504,256c0,137-111,248-248,248S8,393,8,256,119,8,256,8,504,119.08,504,256ZM262.65,90c-54.49,0-89.25,23-116.54,63.76A12,12,0,0,0,148.82,170l34.7,26.31a12,12,0,0,0,16.66-2.13c17.87-22.65,30.12-35.79,57.31-35.79,20.43,0,45.7,13.14,45.7,33,0,15-12.37,22.67-32.54,34C247.13,238.53,216,254.94,216,296v4a12,12,0,0,0,12,12h56a12,12,0,0,0,12-12v-1.33C296,270.2,379.19,269,379.19,192,379.19,134,319,90,262.65,90ZM256,338a46,46,0,1,0,46,46A46.05,46.05,0,0,0,256,338Z"/>
                          </svg>
                          <template slot="hover">
                            <div v-html="$t('sex-bubble')"></div>
                          </template>
                        </inline-hover>
                      </div>

                      <div class="category">
                        <label>{{ $t('label-sex-orientation') }} <span class="regular">({{ $t('label-sex-orientation-brackets') }})</span></label>
                        <div class="form-field">
                          <div class="custom-select">
                            <select v-model="selection.sex" :class="{placeholder:!selection.sex}" @change="checkComplete">
                              <option :value="undefined" disabled selected>{{ $t('placeholder-select') }}</option>
                              <option value="hetereo">{{ $t('sex-orientation-option-1') }}</option>
                              <option value="homo">{{ $t('sex-orientation-option-2') }}</option>
                              <option value="bisexual">{{ $t('sex-orientation-option-3') }}</option>
                              <option value="unclear">{{ $t('sex-orientation-option-4') }}</option>
                            </select>
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                              <path d="M127.3,192h257.3c17.8,0,26.7,21.5,14.1,34.1L270.1,354.8c-7.8,7.8-20.5,7.8-28.3,0L113.2,226.1 C100.6,213.5,109.5,192,127.3,192z"/>
                            </svg>
                          </div>
                        </div>
                        <inline-hover class="overlay-right-aligned">
                          <svg slot="display-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                            <path d="M504,256c0,137-111,248-248,248S8,393,8,256,119,8,256,8,504,119.08,504,256ZM262.65,90c-54.49,0-89.25,23-116.54,63.76A12,12,0,0,0,148.82,170l34.7,26.31a12,12,0,0,0,16.66-2.13c17.87-22.65,30.12-35.79,57.31-35.79,20.43,0,45.7,13.14,45.7,33,0,15-12.37,22.67-32.54,34C247.13,238.53,216,254.94,216,296v4a12,12,0,0,0,12,12h56a12,12,0,0,0,12-12v-1.33C296,270.2,379.19,269,379.19,192,379.19,134,319,90,262.65,90ZM256,338a46,46,0,1,0,46,46A46.05,46.05,0,0,0,256,338Z"/>
                          </svg>
                          <template slot="hover">
                            <div v-html="$t('sex-orientation-bubble')"></div>
                          </template>
                        </inline-hover>
                      </div>

                    </div>
                  </div>
                </transition-group>

              </div>
            </div>

          </div>
        </div>

        <div class="row row-wrapping row-reverse-large scroll-effect scroll-effect-delayed-2">
          <div class="col col-large-6 col-wrapping">
            <div class="button-group right-aligned">
              <button class="button button-primary" @click="submit" :disabled="!taskLoaded || !complete && !wrongLanguage && !noHateSpeech">{{ $t('button-answer') }}</button>
              <button class="button button-secondary" @click="submitNoHatespeech" :disabled="!taskLoaded">{{ $t('button-nohatespeech') }}</button>
              <button class="button button-secondary" @click="next" :disabled="!taskLoaded">{{ $t('button-skip') }}</button>
            </div>
          </div>
          <div class="col col-large-6 col-wrapping">
            <div class="progress">
              <div class="progress-bar">
                <div class="progress-bar-back">
                  <div class="progress-bar-fill" :style="{width:(mySubmissionCount/totalTaskCount*100)+'%'}"></div>
                </div>
              </div>
              <div class="text">
                {{ $t('progress-label') }} {{mySubmissionCount}} {{ $t('progress-of') }} {{totalTaskCount}}
              </div>
            </div>
          </div>
        </div>
      </div>
    </app-content-section>


    <app-content-section color="light-greyish">
      <div class="content-wrapper">
        <div class="row row-centered margin-bottom">

          <div class="col col-tablet-portrait-10 col-large-8 col-xlarge-6 scroll-effect">
            <h2 class="heading centered">Fragen & Antworten</h2>
            <expandable>
              <template slot="header">Wozu verpflichte ich mich?</template>
              <template slot="content">
                <p>
                  Wenn Sie uns helfen, geschlechtsspezifische Hass-Ausdrücke zu finden, verpflichten Sie sich grundsätzlich zu gar nichts. Ob Sie einen oder 1000 Ausdrücke für uns suchen, Sie helfen uns und wir sind dankbar.
                </p>
              </template>
            </expandable>
            <expandable>
              <template slot="header">Was sind geschlechtsspezifische Hass-Ausdrücke?</template>
              <template slot="content">
                <p class="reduced-bottom-margin">
                  Geschlechtsspezifische Hass-Ausdrücke sind Ausdrücke, die
                </p>
                <ul class="reduced-bottom-margin">
                  <li>sich auf Menschen beziehen.</li>
                  <li>von Ihnen ohne den Zusammenhang zu beachten als negativ / beleidigend / verletzend / diskriminierend klassifiziert werden.</li>
                  <li>einen Bezug zum Geschlecht oder der sexuellen Orientierung des Menschen haben.</li>
                </ul>
                <p class="reduced-bottom-margin">
                  <b>Beispiele:</b>
                </p>
                <p class="reduced-bottom-margin">
                  Geschlechtsspezifisch:
                </p>
                <ul class="reduced-bottom-margin">
                  <li><b><i>Schwanz: </i></b>Kann nur für einen Mann verwendet werden.</li>
                  <li><b><i>Weib: </i></b>Kann nur für Frauen verwendet werden.</li>
                  <li><b><i>Homo: </i></b>Hat einen direkten Bezug zur sexuellen Orientierung.</li>
                </ul>
                <p class="reduced-bottom-margin">
                  <b>Nicht</b> geschlechtsspezifisch:
                </p>
                <ul class="reduced-bottom-margin">
                  <li><b><i>Arschloch: </i></b>Ist bei allen Geschlechtern gleich.</li>
                  <li><b><i>Idiot, Trottel, Sauhund: </i></b>Hat keinen Bezug zum Geschlecht oder der sexuellen Ausrichtung.</li>
                </ul>
              </template>
            </expandable>
            <expandable>
              <template slot="header">Wie gehe ich genau vor?</template>
              <template slot="content">
                <p class="reduced-bottom-margin">
                  In einem ersten Schritt geht es darum, Text-Teile auszuwählen, die als geschlechtsspezifische Hass-Ausdrücke erkennbar sind. Dabei spielt es keine Rolle, ob diese abwertend oder nicht abwertend gemeint sind, sie sollen in einem ersten Schritt nur identifiziert werden. Dazu wird im grünen Feld links mit dem Titel <i>1. Identifizieren</i> von geschlechtsspezifischen Hass-Ausdrücken der ganze Ausdruck, den Sie identifiziert haben, mit der Maus angewählt. Wenn Sie jetzt auf den Knopf <i>hinzufügen</i> klicken, wird alles, was Sie angewählt haben, unterhalb des Titels <i>2. Klassifikation</i> aufgelistet. Führen Sie diesen Schritt bitte so oft aus, bis alle geschlechtsspezifischen Hass-Ausdrücke in der dargestellten Nachricht in der Tabelle stehen. Fehler sind kein Problem: Ausdrücke in der Tabelle können mit einem Klick auf das <i>X</i> jederzeit wieder entfernt werden.
                </p>
                <p class="reduced-bottom-margin">
                  In einem weiteren Schritt bitten wir Sie, die von Ihnen ausgewählten Ausdrücke in Bezug auf drei Kategorien zu beschreiben. Bei diesen Beurteilungen geht es uns darum, in einer späteren Auswertung analysieren zu können, wie eine Person beleidigt wird und wer beleidigt wird. Entsprechend bezieht sich die erste Kategorie auf das Wie, also auf die Wortherkunft des Hass-Ausdrucks, die zwei anderen Kategorien sollen aufzeigen, auf Grund welcher Eigenschaften eine Person mutmasslich beleidigt wird. Für diese Beurteilung benötigen wir die beiden Kategorien Geschlecht und sexuelle Ausrichtung.
                </p>
                <p class="reduced-bottom-margin">
                  Optionen für die Wortherkunft:
                </p>
                <ul class="reduced-bottom-margin">
                  <li>
                    Anatomie (Körperteile, z.B. <i>Schwanz</i>)
                  </li>
                  <li>
                    Tätigkeiten (z.B. <i>Hure</i>, <i>Wichser</i>)
                  </li>
                  <li>
                    Die Geschlechtszugehörigkeit, wenn also auf die Person gezielt wird (z.B. <i>Weib</i>)
                  </li>
                  <li>
                    Die sexuelle Ausrichtung, auch hier wird auf die Person gezielt (z.B. <i>Homo</i>, wenn es abwertend gebraucht wird)
                  </li>
                  <li>
                    Andere: Wenn keine dieser Optionen passt, wählen Sie bitte Andere an.
                  </li>
                </ul>
                <p class="reduced-bottom-margin">
                  Optionen für das Geschlecht der beleidigten Person:
                </p>
                <p class="reduced-bottom-margin">
                  Bitte beachten Sie, dass das Geschlecht wirklich aus dem Zusammenhang des Textes erkennbar sein muss und nicht erraten oder erahnt werden darf.
                </p>
                <ul class="reduced-bottom-margin">
                  <li>
                    Mann
                  </li>
                  <li>
                    Frau
                  </li>
                  <li>
                    Divers: Die Bezeichnung Divers wird in Deutschland für Menschen verwendet, die sich den Geschlechtern Mann und Frau nicht zuordnen.
                  </li>
                  <li>
                    Unbekannt: Oft ist das Geschlecht im Zusammenhang des Textes nicht erkennbar. Wählen Sie in dem Fall bitte die Option Unbekannt.
                  </li>
                </ul>
                <p class="reduced-bottom-margin">
                  Optionen für die sexuelle Ausrichtung:
                </p>
                <p class="reduced-bottom-margin">
                  Erneut ist es wichtig, dass diese Orientierung tatsächlich aus dem Text hervorgeht.
                </p>
                <ul class="reduced-bottom-margin">
                  <li>
                    Heterosexuell
                  </li>
                  <li>
                    Homosexuell
                  </li>
                  <li>
                    Bisexuell
                  </li>
                  <li>
                    Asexuell
                  </li>
                  <li>
                    Unklar: Aus dem Zusammenhang des Textes ist die sexuelle Orientierung nicht erkennbar.
                  </li>
                </ul>
                <p class="reduced-bottom-margin">
                  Wenn Sie alles auf dieser Seite korrekt ausgewählt und kategorisiert haben, können Sie Ihre Angaben mit <i>antworten</i> speichern und zur nächsten Nachricht gelangen.
                </p>
              </template>
            </expandable>
            <expandable>
              <template slot="header">Welchen Teil des Textes muss ich auswählen?</template>
              <template slot="content">
                <p class="reduced-bottom-margin">
                  Wir interessieren uns für Ausdrücke, in denen eine Person wegen ihres Geschlechts oder ihrer sexuellen Ausrichtung angefeindet wird. Diese Ausdrücke bestehen häufig aus mehr als einem Wort, also z.B. einem Artikelwort (<i>der</i>, <i>die</i>, <i>das</i>, <i>ein</i>, <i>eine</i>, <i>dieser</i>, <i>diese</i>, etc.), einem Nomen (<i>Mann</i>, <i>Frau</i>, <i>Typ</i>, <i>Kerl</i>, <i>Homo</i>, <i>Lesbe</i>, <i>Ekel</i>, etc.) und weiteren Wörtern dazwischen (<i>huere</i>, <i>netter</i>, <i>blöde</i>, <i>gut ausgebildete</i>). Das ergibt dann z.B.: 1. <i>Der doofe Schwanz</i>, 2. <i>Der gut ausgebildete Homo</i>, 3. <i>Lesbe</i>. Ausgewählt werden sollte bitte jeweils der ganzen Ausdruck, also alles zwischen dem Artikelwort und dem Nomen, wobei der Artikel fehlen kann wie in Beispiel 3. Ebenso können zwischen dem Artikelwort und dem Nomen noch weitere Wörter stehen, die dann auch mit ausgewählt werden sollen.
                </p>
              </template>
            </expandable>
            <expandable>
              <template slot="header">Der Text ist gar nicht Deutsch!</template>
              <template slot="content">
                <p class="reduced-bottom-margin">
                  Unsere Datensammlung beinhaltet Texte in den drei grösseren Landessprachen. Wir haben menschliche und technologische Hilfe verwendet, um den einzelnen Nachrichten eine Haupt-Sprache zuzuordnen. In vielen Fällen funktioniert das gut, aber nicht immer. Wenn der angezeigte Text nicht Deutsch ist, so können Sie uns das mit einem Klick auf <i>Text ist nicht Deutsch</i> mitteilen und sich einen nächsten Text anzeigen lassen. Bedenken Sie dabei aber, dass wir die Bezeichnung Deutsch wesentlich grosszügiger beurteilen, als dies vielleicht eine Primarlehrperson tun würde. Unter Deutsch verstehen wir auch Nachrichten mit vielen Schreib- und Tippfehlern sowie Schweizerdeutsche Nachrichten, also nicht nur das Hochdeutsch, das Sie in der Schule gelernt haben. Lesen Sie den Text also bitte genau durch, manche Dialekte sind nicht auf Anhieb als Deutsch zu erkennen. Tipp: Versuchen Sie im Zweifel, den Text laut zu lesen. So können Sie unter Umständen erkennen, ob etwas dialektal ist und nicht etwa eine Fremdsprache.
                </p>
              </template>
            </expandable>
            <expandable>
              <template slot="header">Was passiert, wenn wir alle Texte bearbeitet haben?</template>
              <template slot="content">
                <p class="reduced-bottom-margin">
                  Wir möchten in diesem ersten Schritt zunächst alle geschlechtsspezifischen Hass-Ausdrücke identifizieren. Das geht am einfachsten, wenn wir Ihnen immer nur eine Nachricht nach der anderen zeigen. Im nächsten Schritt wird es darum gehen, die gefundenen Ausdrücke zu klassifizieren, also zu bestimmen, ob sie wirklich abwertend gebraucht werden oder ob sie sogar freundschaftlich gemeint sind. Um dies bestimmen zu können, muss die Nachricht im Zusammenhang mit der vorhergehenden und der nachfolgenden Nachricht gesehen werden. Wir werden also im zweiten Schritt auch die vorangehende und die folgende Nachricht zeigen und Sie fragen, wie Sie den Ausdruck klassifizieren. Wir würden uns freuen, wenn Sie auch an diesem Schritt mitarbeiten würden.
                </p>
              </template>
            </expandable>
            <expandable>
              <template slot="header">Ihr sprecht immer von Chats, Nachrichten und Ausdrücken, was ist das genau?</template>
              <template slot="content">
                <p class="reduced-bottom-margin">
                  Wenn Sie mit jemandem per WhatsApp chatten, dann entsteht ein ganzer Dialog, in dem mal Sie und mal die andere(n) Person(en) etwas schreiben. Dieser Dialog zieht sich oft über ganze Jahre hin und wird von uns als Chat bezeichnet. In diesem Chat gibt es Sprechblasen, die Sie geschrieben haben und solche, die jemand anders geschrieben hat. Jede einzelne Sprechblase bezeichnen wir als Nachricht. Der Ausdruck schliesslich hat eigentlich nichts mit WhatsApp zu tun, sondern ist das, was wir suchen, nämlich den Teil einer Nachricht, in dem geschlechtsspezifischer Hass ausgedrückt wird.
                </p>
              </template>
            </expandable>
          </div>

        </div>
      </div>
    </app-content-section>


    <section-feedback></section-feedback>


    <section-newsletter-signup></section-newsletter-signup>

    <app-footer></app-footer>

    <step-wizard ref="wizard">

      <step-wizard-step>
        <template slot="title">{{ $t('wizard-step-1-heading')}}</template>
        <content-section slot="content">
          <div class="content-wrapper">
            <div class="row row-wrapping">
              <div class="col col-large-6 col-wrapping">

                <div class="reduced-bottom-margin">
                  <img src="/img/graphic-gender.png" style="width:25%" />
                </div>

                <p class="reduced-bottom-margin">
                  {{ $t('wizard-step-1-text') }}
                </p>
                <ul>
                  <li>{{ $t('wizard-step-1-bullet-1') }}</li>
                  <li>{{ $t('wizard-step-1-bullet-2') }}</li>
                  <li>{{ $t('wizard-step-1-bullet-3') }}</li>
                </ul>

              </div>
              <div class="col col-large-6 col-wrapping">

                <p class="reduced-bottom-margin">
                  <b>{{ $t('wizard-step-1-examples-heading') }}</b>
                </p>
                <p class="reduced-bottom-margin" v-html="$t('wizard-step-1-examples-specific')">
                </p>
                <ul v-html="$t('wizard-step-1-examples-specific-list')"></ul>
                <p class="reduced-bottom-margin" v-html="$t('wizard-step-1-examples-nonsp')">
                </p>
                <ul v-html="$t('wizard-step-1-examples-nonsp-list')"></ul>

              </div>
            </div>
          </div>
        </content-section>
      </step-wizard-step>

      <step-wizard-step>
        <template slot="title">{{ $t('wizard-step-2-heading') }}</template>
        <content-section slot="content">
          <div class="content-wrapper">
            <div class="row row-wrapping">
              <div class="col col-large-6 col-wrapping">

                <div class="reduced-bottom-margin">
                  <img src="/img/graphic-selection.png" style="width:25%" />
                </div>

                <p class="reduced-bottom-margin" v-html="$t('wizard-step-2-text-1')">
                </p>
                <ul>
                  <li v-html="$t('wizard-step-2-bullet-1')"></li>
                  <li v-if="$t('wizard-step-2-bullet-2') !== 'wizard-step-2-bullet-2'" v-html="$t('wizard-step-2-bullet-2')"></li>
                </ul>

              </div>
              <div class="col col-large-6 col-wrapping">
                <p class="reduced-bottom-margin" v-html="$t('wizard-step-2-text-2')">
                </p>
                <p class="reduced-bottom-margin" v-html="$t('wizard-step-2-text-3')">
                </p>
                <p class="reduced-bottom-margin">
                  <b>{{ $t('wizard-step-2-examples-heading') }}</b>
                </p>
                <ul v-html="$t('wizard-step-2-examples-list')">
                </ul>

              </div>
            </div>
          </div>
        </content-section>
      </step-wizard-step>

      <step-wizard-step>
        <template slot="title">{{ $t('wizard-step-3-heading') }}</template>
        <content-section slot="content">
          <div class="content-wrapper">
            <div class="row row-wrapping">
              <div class="col col-large-6 col-wrapping">

                <div class="reduced-bottom-margin">
                  <img src="/img/graphic-category.png" style="width:25%" />
                </div>

                <p class="reduced-bottom-margin" v-html="$t('wizard-step-3-text')">
                </p>
                <p class="reduced-bottom-margin" v-html="$t('wizard-step-3-list-1-title')">
                </p>
                <ul v-html="$t('wizard-step-3-list-1')">
                </ul>

              </div>
              <div class="col col-large-6 col-wrapping">

                <p class="reduced-bottom-margin" v-html="$t('wizard-step-3-list-2-title')">
                </p>
                <ul v-html="$t('wizard-step-3-list-2')">
                </ul>

                <p class="reduced-bottom-margin" v-html="$t('wizard-step-3-list-3-title')">
                </p>
                <ul v-html="$t('wizard-step-3-list-3')">
                </ul>

              </div>
            </div>
          </div>
        </content-section>
      </step-wizard-step>

    </step-wizard>



  </div>
</template>

<script>

import {mapState} from 'vuex'

import Footer from '@/components/shared/Footer.vue';
import SectionNewsletterSignup from "@/components/shared/SectionNewsletterSignup";
import Expandable from "@/components/shared/Expandable";
import StepWizard from "@/components/shared/StepWizard";
import StepWizardStep from "@/components/shared/StepWizardStep";
import ContentSection from "@/components/shared/ContentSection";
import InlineHover from "@/components/shared/InlineHover";
import SectionFeedback from "../components/shared/SectionFeedback";
import Loader from "../components/shared/Loader";


export default {
  name: 'Home',
  components: {
      Loader,
      SectionFeedback,
      InlineHover,
      ContentSection,
      StepWizardStep,
      StepWizard,
      Expandable,
      SectionNewsletterSignup,
    'app-content-section': ContentSection,
    'app-footer': Footer
  },
  metaInfo: function() {
      return {
          title: this.$t('page-title'),
          meta: [
              {
                  property: 'og:title',
                  content: this.$t('page-title'),
                  template: '%s | '+this.$t('site-title')
              }
          ]
      }
  },
  data() {
      return {
          selection: null,
          selections: [],
          wrongLanguage: false,
          noHateSpeech: false,
          complete: false,

          taskId: undefined,
          hasSubmissionAlready: false,

          taskLoaded: false,
          loadTryCounter: 0
      }
  },
  computed: {
      ...mapState({
          language: state => state.settings.language,

          currentUser: state => state.c3s.user.currentUser,
          activityId: state => state.consts.identificationActivity,

          tasks: state => state.c3s.task.tasks,

          totalTaskCount: state => state.stats.totalTaskCount,
          mySubmissionCount: state => state.stats.mySubmissionCount
      }),
      bubbleText() {
          if( this.tasks[0] && this.tasks[0].content.text ) {
              let trimmed = this.tasks[0].content.text.replace(/<br\/><br\/>/g, '<br/>');
              return trimmed;
          }
          else {
              return '';
          }
      },
      answer() {
          if( this.noHateSpeech ) {
              return {"info": "no hate speech"};
          }
          else if( this.wrongLanguage ) {
              return {"info": "wrong language"};
          }
          else {
              return {"selections": this.selections};
          }
      }
    },
  mounted() {
      let self = this;
      document.addEventListener('selectionchange', function(event) {
         //console.log('selection change');
         //console.log( event.target );
          if( window.getSelection().toString().trim() !== '' ) {
            self.selection = window.getSelection().toString();
          }
      });

      this.$store.dispatch('stats/updateTotalTaskCount');
      this.$store.dispatch('stats/updateTotalUserAndSubmissionCount');
      this.$store.dispatch('stats/updateMySubmissionCount');

      this.$store.dispatch("c3s/activity/getActivity", [this.activityId, false]).then(activity => {

          console.log('activity loaded');

          // load task with or without id
          if( this.$route.params.id ) {
              if( this.$route.params.id.length !== 36 ) {
                  //console.log('invalid id');
                  delete this.$route.params.id;
                  this.$router.replace('/identification');
                  this.taskId = null;
                  this.loadTask();
              }
              else {
                  //console.log('load task from id');
                  this.taskId = this.$route.params.id;
                  this.loadTask();
              }
          }
          else {
              this.taskId = null;
              //console.log('load without id');
              this.loadTask();
          }

      });

  },
  methods: {
      loadTask() {

          this.taskLoaded = false;

          this.selection = null;
          this.selections = [];
          this.noHateSpeech = false;
          this.wrongLanguage = false;

          let taskQuery;
          if( !this.taskId ) {
              // without id
              console.log('load one without id');
              taskQuery = {
                  'select': {
                      'fields': [
                          '*'
                      ],
                      'tables': [
                          'tasks TABLESAMPLE SYSTEM_ROWS(1)'
                      ],
                      /*
                      'orderBy': {
                          'random()': ''
                      }
                      */
                  },
                  'where': [
                      {
                          "field": 'tasks.activity_id',
                          'op': 'e',
                          'val': this.activityId
                      },
                      {
                          'field': 'tasks.id',
                          'op': 'ni',
                          'val': "(SELECT task_id FROM submissions WHERE submissions.task_id = tasks.id AND user_id = '" + this.currentUser.id + "')",
                          'join': 'a',
                          'type': 'sql'
                      }/*,
                    {
                        'field': 'tasks.info ->> \'difficulty\'',
                        'op': 'e',
                        'val': this.difficulty.toString(),
                        'join': 'a'
                    }*/
                  ]
              };

          }
          else {
              // with id
              console.log('with id');
              taskQuery = {
                  'select': {
                      'fields': [
                          '*'
                      ],
                      'tables': [
                          'tasks'
                      ]
                  },
                  'where': [
                      {
                          "field": 'id',
                          'op': 'e',
                          'val': this.taskId
                      }
                  ]
              };

          }

          this.$store.dispatch('c3s/task/getTasks', [taskQuery, 1]).then(tasks => {

              if ( this.tasks[0] ) {

                  console.log( 'task loaded');
                  if( navigator.userAgent !== 'ReactSnap' ) {
                      this.$router.replace('/identification/' + this.tasks[0].id);
                  }


                  this.taskLoaded = true;
                  this.loadTryCounter = 0;
                  this.taskId = undefined;

              }

              else {

                  console.log('load failed');
                  if( this.loadTryCounter < 5 ) {
                      this.loadTryCounter++;
                      console.log('try again');
                      this.loadTask();
                  }
                  else {
                      console.log('failed to load 5 times');
                      this.loadTryCounter = 0;
                      this.$router.push('/');
                  }


              }


          });

      },
      next() {
          console.log('next');

          this.loadTask();
      },
      submitNoHatespeech() {
          this.noHateSpeech = true;
          this.submit();
      },
      submit() {
          console.log('submit');
          console.log( this.answer );

          let submissionObject = {
              "info": {},
              "content": this.answer,
              "task_id": this.tasks[0].id,
              "user_id": this.currentUser.id,
              "draft": false
          };

          console.log( submissionObject );

          this.$store.commit('c3s/submission/SET_SUBMISSION', submissionObject );

          this.$store.dispatch('c3s/submission/createSubmission').then(submission => {

              console.log('submission sent');

              //this.$store.dispatch('stats/increaseMySubmissionCount');
              this.$store.dispatch('stats/updateMySubmissionCount');
              this.$store.dispatch('stats/updateTotalUserAndSubmissionCount');

              this.loadTask();

          });
      },
      select() {
        this.selections.push( { 'string': this.selection, 'origin': undefined, 'gender': undefined, 'sex': undefined } );
        window.getSelection().removeAllRanges();
        this.selection = null;
        this.checkComplete();
      },
      openWizard() {
          this.$refs.wizard.openWizard();
      },
      checkComplete() {
          console.log('check complete');
          let complete = true;
          for( let i = 0; i < this.selections.length; i++ ) {
              if( !this.selections[i].origin || !this.selections[i].gender || !this.selections[i].sex ) {
                  complete = false;
              }
          }
          if( complete && this.selections.length > 0 ) {
              this.complete = true;
          }
          else {
              this.complete = false;
          }
      }
  }
}

</script>

<style lang="scss">

  @import '@/styles/theme.scss';
  @import '@/styles/shared/variables.scss';

  .identification-page * {
    user-select: none;
  }

  .identification {

    .disabled {
      opacity: 0.25;
      pointer-events: none;
      transition: opacity $transition-duration-short $transition-timing-function;
    }

    .speech-bubble {
      user-select: text;
      background-color: #DCF8C6;
      color: $color-primary;
      padding: $spacing-1 $spacing-2;
      font-size: $font-size-medium;
      font-weight: 700;
      line-height: 1.4;
      outline: none;
      position: relative;
      border-radius: $border-radius;
      border-top-left-radius: 0;

      //box-shadow: 0px 2px 8px -4px rgba($color-black, 1);
      filter: drop-shadow( 0px 2px 2px rgba($color-primary-shade-40, 0.4));

      &:after {
        content: '';
        position: absolute;
        top: 0;
        left: -16px;
        width: 0;
        height: 0;
        border-top: 16px solid $color-whatsapp-message;
        border-left:  16px solid transparent;
      }

      &::selection {
        color: white;
        background-color: $color-primary;
      }

      &:active {
        color: $color-primary-shade-20;
      }
      @media (hover: hover) {
        &:hover {
          color: $color-primary-shade-20;
        }
      }
    }

    .loader-wrapper {
      height: 48px;
    }

    .add-button-group {
      margin-bottom: $spacing-1;
    }

    .form-field.form-field-language-checkbox {
      .options {
        display: inline-block;
        margin: 0;
      }
    }


    .no-items {
      color: $color-black-tint-50;
    }
    .item {

      border-radius: $border-radius;
      margin-top: $spacing-2;
      position: relative;
      box-shadow: 0px 2px 12px -4px rgba($color-black, 0.2);

      &:first-child {
        margin-top: 0;
      }

      .string {
        font-weight: 700;
        color: $color-primary-shade-20;
        padding: calc( ( 56px - 1rem * 1.5 ) / 2 ) $spacing-2;
      }
      .button {
        position: absolute;
        top: 0;
        right: 0;
      }

      .categories {
        padding: $spacing-1;
        padding-top: 0;
        padding-bottom: $spacing-2;
        .category {
          background-color: white;
          display: flex;
          flex-direction: row;
          padding: $spacing-1;
          align-items: center;

          &:first-child {
            border-top-left-radius: $border-radius;
            border-top-right-radius: $border-radius;
          }
          &:last-child {
            border-bottom-left-radius: $border-radius;
            border-bottom-right-radius: $border-radius;
          }

          label {
            flex: 1;
            width: 50%;
          }
          .form-field {
            flex: 1;
            margin-bottom: 0;
          }
          .inline-hover {
            margin-left: $spacing-1;
          }
        }
      }
    }

    .no-item-fade-enter-active {
      transition: all $transition-duration-long $transition-timing-function;
      transition-delay: $transition-duration-long;
      position: absolute;
      opacity: 0;
    }
    .no-item-fade-enter-to {
      opacity: 1;
    }
    .no-item-fade-leave-active {
      transition: all $transition-duration-long $transition-timing-function;
      position: absolute;
    }
    .no-item-fade-leave-to {
      opacity: 0;
    }

    .item-fade-enter-active {
      transition: all $transition-duration-long $transition-timing-function;
      //transition-delay: $transition-duration-long;
      transform: translateY( -$spacing-2 );
      opacity: 0;
    }
    .item-fade-enter-to {
      transform: translateY( 0 );
      opacity: 1;
    }
    .item-fade-leave-active {
      transition: all $transition-duration-long $transition-timing-function;
      opacity: 1;
    }
    .item-fade-leave-to {
      transform: translateY( -$spacing-2 );
      opacity: 0;
    }


    /*
    .no-item-fade-enter-active, .no-item-fade-leave-active {
      transition: opacity $transition-duration-long $transition-timing-function;
    }
    .no-item-fade-enter, .no-item-fade-leave-to {
      opacity: 0;
    }
    .item-fade-enter-active, .item-fade-leave-active {
      transition: all $transition-duration-long $transition-timing-function;
    }
    .item-fade-enter, .item-fade-leave-to {
      opacity: 0;
      transform: translateY( - $spacing-2 );
    }
    */

    .progress {
      font-size: 0;
      text-align: right;
      .progress-bar {
        height: 40px;
        width: 48px;
        padding-top: calc( 40px / 2 - #{$spacing-1} / 2 );
        margin-right: $spacing-2;
        display: inline-block;
        .progress-bar-back {
          width: 100%;
          height: $spacing-1;
          border-radius: $border-radius;
          overflow: hidden;
          background-color: $color-secondary-tint-90;
          .progress-bar-fill {
            height: 100%;
            width: 50%;
            background-color: $color-secondary;
            transition: width $transition-duration-long $transition-timing-function;
          }
        }
      }
      .text {
        display: block;
        float: right;
        line-height: 40px;
        font-size: $font-size-small;
      }
    }

  }

  @media only screen and (min-width: $viewport-tablet-portrait) {

    .identification {

      .speech-bubble {
        &:after {
          left: -24px;
          border-top-width: 24px;
          border-left-width: 24px;
        }
      }

      .item {
        .string {
          padding: calc( ( 64px - 1rem * 1.5 ) / 2 ) $spacing-2;
        }
      }

      .progress {
        .progress-bar {
          height: 48px;
          width: 64px;
          padding-top: calc( 48px / 2 - #{$spacing-1} / 2 );
          margin-right: $spacing-3;
        }
        .text {
          line-height: 48px;
        }
      }

    }

  }


  @media only screen and (min-width: $viewport-large) {

    .identification {

      .progress {
        text-align: left;
        .progress-bar {
          float: left;
        }
        .text {
          float: none;
        }
      }

    }

  }


</style>
